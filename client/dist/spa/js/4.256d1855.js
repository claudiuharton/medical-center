(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"1a9b":function(e,t,a){"use strict";var s=a("431a"),i=a.n(s);i.a},"431a":function(e,t,a){var s=a("baea");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("4a4dfd7c",s,!0,{sourceMap:!1})},"6ccf":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{},[a("navbar"),e.isMedic?a("q-tabs",{staticClass:"bg-grey-2 text-primary shadow-2",attrs:{dense:"",align:"justify",breakpoint:0},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"services",label:"Services"}}),a("q-tab",{attrs:{name:"appointments",label:"Appointments"}})],1):e._e(),e.isMedic?a("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"services"}},[a("service")],1),a("q-tab-panel",{attrs:{name:"appointments"}},[a("appointment")],1)],1):e._e(),e.isAdmin?a("admin"):e._e(),e.isMedic||e.isAdmin?e._e():a("appointment")],1)},i=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-table",{staticStyle:{margin:"50px"},attrs:{title:"All appointments",data:e.events,filter:e.filter,columns:e.columns,"row-key":"id"},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{staticClass:"button",staticStyle:{"margin-right":"20px"},attrs:{outline:"",round:"",color:"primary",icon:"read_more"},on:{click:function(a){return e.viewAppointment(t.row)}}})],1)]}}])}),a("q-dialog",{model:{value:e.card,callback:function(t){e.card=t},expression:"card"}},[a("q-card",{staticStyle:{width:"80%"}},[a("q-toolbar",{staticClass:"q-mt-md row"},[a("q-avatar",[a("q-icon",{attrs:{name:"local_hospital",size:"lg"}})],1),a("q-toolbar-title",{staticClass:"text-weight-bold"},[e._v("Appointment reservation\n        ")]),e.selectedEvent.url?a("div",{staticClass:"row justify-center items-center"},[a("q-toolbar-title",[e._v(" Join room ")]),a("q-btn",{attrs:{icon:"videocam",color:"primary",size:"lg",fill:"",type:"a",round:"",target:"_blank",dense:""},on:{click:function(t){return e.onClickUrl(e.selectedUrl)}}})],1):e._e()],1),a("div",{staticClass:"row "},[a("q-card-section",{staticClass:"column"},[a("p",{staticClass:"q-ml-sm  q-ma-xs text-body1 text-weight-bold"},[e._v("\n            Service details:\n          ")]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Name: "),a("b",[e._v(e._s(e.selectedEvent.service.name))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Category: "),a("b",[e._v(e._s(e.selectedEvent.service.category))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Description: "),a("b",[e._v(e._s(e.selectedEvent.service.description))])])]),a("q-card-section",{staticClass:"q-ml-xl column"},[a("p",{staticClass:"q-ml-sm  q-ma-xs text-body1 text-weight-bold"},[e._v("\n            Reservation details:\n          ")]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Date: "),a("b",[e._v(e._s(e.selectedEvent.date))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Time: "),a("b",[e._v(e._s(e.selectedEvent.time))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Duration: "),a("b",[e._v(e._s(e.selectedEvent.duration)+" minutes")])])])],1),a("q-card-section",[a("q-input",{staticClass:"q-ml-sm",attrs:{filled:"",readonly:"",label:"Observations",autogrow:""},model:{value:e.selectedEvent.observation,callback:function(t){e.$set(e.selectedEvent,"observation",t)},expression:"selectedEvent.observation"}})],1),a("q-card-section",{staticClass:" column"},[a("p",{staticClass:"q-ml-sm  q-ma-xs text-body1 text-weight-bold"},[e._v("\n          Medic details:\n        ")]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n          Name:\n          "),a("b",[e._v(e._s(e.selectedEvent.medic.firstName)+"\n            "+e._s(e.selectedEvent.medic.lastName))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n          Phone: "),a("b",[e._v(e._s(e.selectedEvent.medic.phone))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n          Email: "),a("b",[e._v(e._s(e.selectedEvent.medic.email))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n          City: "),a("b",[e._v(e._s(e.selectedEvent.medic.city))])]),a("q-input",{staticClass:"q-ml-xl q-ma-none",staticStyle:{width:"80%"},attrs:{outlined:"",dense:!0,readonly:""},model:{value:e.selectedEvent.medic.info,callback:function(t){e.$set(e.selectedEvent.medic,"info",t)},expression:"selectedEvent.medic.info"}})],1),a("q-card-section",{staticClass:" column"},[a("p",{staticClass:"q-ml-sm  q-ma-xs text-body1 text-weight-bold"},[e._v("\n          Patient details:\n        ")]),e.selectedEvent.patient?a("div",[a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Name:\n            "),a("b",[e._v(e._s(e.selectedEvent.patient.firstName)+"\n              "+e._s(e.selectedEvent.patient.lastName))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Phone: "),a("b",[e._v(e._s(e.selectedEvent.patient.phone))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Email: "),a("b",[e._v(e._s(e.selectedEvent.patient.email))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            City: "),a("b",[e._v(e._s(e.selectedEvent.patient.city))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Birth date: "),a("b",[e._v(e._s(e.selectedEvent.patient.birthDate))])]),a("q-input",{staticClass:"q-ml-xl q-ma-none",staticStyle:{width:"80%"},attrs:{outlined:"",dense:!0,readonly:""},model:{value:e.selectedEvent.patient.info,callback:function(t){e.$set(e.selectedEvent.patient,"info",t)},expression:"selectedEvent.patient.info"}})],1):a("p",{staticClass:"q-ml-xl  q-ma-xs"},[e._v("Not reserved yet")])])],1)],1)],1)},r=[],o=(a("456d"),a("8a81"),a("d25f"),a("9986"),a("8e6e"),a("9523")),c=a.n(o);a("7f7f");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={name:"Service",data:function(){return{state:"VIEW",filter:"",card:!1,selectedEvent:{id:3,duration:20,date:"2021-05-25T04:36:27.000Z",url:"un link ceva",observation:null,medic:{id:1,firstName:"George",lastName:"Vasile",info:"Hellow there",email:"george.vasile2@gmail.com",phone:"0722222222",city:"Bucharest"},patient:{id:2,firstName:"George",lastName:"Pacientul",info:"ceva",email:"george.vasile@gmail.com",phone:"0722222222",city:"Bucharest",birthDate:"1999/12/12"},service:{id:1,name:"Tratament 1",category:"analiza",description:"altceva",createdAt:"2021-05-23T22:51:58.000Z",updatedAt:"2021-05-25T02:18:56.000Z"}},columns:[{name:"dateTime",required:!0,label:"Date Time",align:"left",field:function(e){return e.date},format:function(e){return"".concat(e)},sortable:!0},{name:"medic",required:!0,label:"Medic",align:"left",field:function(e){return e.medic},format:function(e){return"".concat(e.firstName," ").concat(e.lastName)},sortable:!0},{name:"patient",required:!1,label:"Patient",align:"left",field:function(e){return e.patient},format:function(e){return"".concat(e.firstName," ").concat(e.lastName)},sortable:!0},{name:"service",required:!0,label:"Service",align:"left",field:function(e){return e.service},format:function(e){return"".concat(e.name)},sortable:!0},{name:"actions",label:"Action"}]}},beforeMount:function(){var e=this.$q.localStorage.getItem("user");e?(this.$store.dispatch("data/loadServices"),this.$store.dispatch("data/loadAdminAppointments"),this.$store.dispatch("data/loadMedicServices")):this.$router.push("/auth")},methods:{viewAppointment:function(e){this.card=!0,this.selectedEvent=d({},e)},onClickUrl:function(e){openURL(e)}},computed:{events:function(){return this.$store.getters["data/getAdminAppointments"]}}},p=u,m=a("2877"),v=a("eaac"),f=a("27f9"),b=a("0016"),h=a("db86"),g=a("9c40"),q=a("24e8"),y=a("f09f"),_=a("65c6"),w=a("cb32"),x=a("6ac5"),C=a("a370"),E=a("eebe"),k=a.n(E),S=Object(m["a"])(p,n,r,!1,null,null,null),$=S.exports;k()(S,"components",{QTable:v["a"],QInput:f["a"],QIcon:b["a"],QTd:h["a"],QBtn:g["a"],QDialog:q["a"],QCard:y["a"],QToolbar:_["a"],QAvatar:w["a"],QToolbarTitle:x["a"],QCardSection:C["a"]});var O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isMedic?e._e():a("q-select",{attrs:{filled:"",multiple:"",options:e.optionsMedics,"use-chips":"","stack-label":"","use-input":"","input-debounce":"0",label:"Medics selected"},on:{filter:e.filterMedics},model:{value:e.selectedMedics,callback:function(t){e.selectedMedics=t},expression:"selectedMedics"}}),e.isMedic?a("q-select",{attrs:{filled:"",multiple:"",options:e.optionsPatients,"use-chips":"","stack-label":"","use-input":"","input-debounce":"0",label:"Patients selected"},on:{filter:e.filterPatients},model:{value:e.selectedPatients,callback:function(t){e.selectedPatients=t},expression:"selectedPatients"}}):e._e(),a("q-separator"),a("q-select",{attrs:{filled:"",multiple:"",options:e.optionsServices,"use-chips":"","use-input":"","input-debounce":"0","stack-label":"",label:"Services selected"},on:{filter:e.filterServices},model:{value:e.selectedServices,callback:function(t){e.selectedServices=t},expression:"selectedServices"}}),a("q-separator"),a("q-checkbox",{attrs:{label:"Only my appointments"},model:{value:e.onlyHis,callback:function(t){e.onlyHis=t},expression:"onlyHis"}}),a("div",{staticClass:"row justify-center q-mb-md"},[a("q-btn",{attrs:{filled:"",label:"Prev"},on:{click:e.calendarPrev}}),a("q-separator",{attrs:{vertical:""}}),a("q-select",{attrs:{filled:"",options:e.viewOptions},model:{value:e.view,callback:function(t){e.view=t},expression:"view"}}),a("q-separator",{attrs:{vertical:""}}),a("q-btn",{attrs:{filled:"",label:"Next"},on:{click:e.calendarNext}})],1),a("q-separator"),e.isMedic?a("q-calendar",{ref:"calendar",staticClass:"calendar-container medic",attrs:{view:e.view.value,locale:"en-us","enable-outside-days":!0,animated:"",bordered:!0,"interval-height":50,"interval-start":8,"interval-count":10,weekdays:[1,2,3,4,5,6,0],"transition-prev":"slide-right","transition-next":"slide-left"},on:{"click:time2":e.onClickTime,"click:day2":e.onClickTime},scopedSlots:e._u([{key:"day-header",fn:function(t){var s=t.timestamp;return[a("div",{staticClass:"row justify-center"},[e._l(e.eventsMap[s.date],(function(t,s){return[t.time?a("q-badge",{key:s,staticClass:"q-ma-xs",class:e.badgeClasses(t,"header"),staticStyle:{width:"10px","max-width":"10px",height:"10px","max-height":"10px"},style:e.badgeStyles(t,"header")}):a("q-badge",{key:s,class:e.badgeClasses(t,"header"),staticStyle:{width:"100%",cursor:"pointer"},style:e.badgeStyles(t,"header")},[t.icon?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:t.icon}}):e._e(),a("span",{staticClass:"ellipsis"},[e._v(e._s(t.title))])],1)]}))],2)]}},{key:"day",fn:function(t){var s=t.timestamp;return[e._l(e.getEvents(s.date),(function(t,s){return[a("q-badge",{key:s,class:e.badgeClasses(t,"day"),staticStyle:{width:"100%",cursor:"pointer",height:"16px","max-height":"16px"},style:e.badgeStyles(t,"day"),on:{click:function(a){return e.onEventClick(t)}}},[t.icon?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:t.icon}}):e._e(),a("span",{staticClass:"ellipsis"},[e._v(e._s(t.title))])],1)]}))]}},{key:"day-body",fn:function(t){var s=t.timestamp,i=t.timeStartPos,n=t.timeDurationHeight;return[e._l(e.getEvents(s.date),(function(t,s){return[t.time?a("q-badge",{key:s,staticClass:"my-event justify-center ",class:e.badgeClasses(t,"body"),staticStyle:{cursor:"pointer"},style:e.badgeStyles(t,"body",i,n),on:{click:function(a){return e.onEventClick(t)}}},[t.icon?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:t.icon}}):e._e(),a("span",{staticClass:"ellipsis"},[e._v(e._s(t.title))])],1):e._e()]}))]}}],null,!1,3364257485),model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}):a("q-calendar",{ref:"calendar",staticClass:"calendar-container patient",attrs:{view:e.view.value,locale:"en-us",animated:"",bordered:!0,"interval-height":50,"interval-start":8,"interval-count":10,weekdays:[1,2,3,4,5,6,0],"transition-prev":"slide-right","transition-next":"slide-left"},scopedSlots:e._u([{key:"day-header",fn:function(t){var s=t.timestamp;return[a("div",{staticClass:"row justify-center"},[e._l(e.eventsMap[s.date],(function(t,s){return[t.time?a("q-badge",{key:s,staticClass:"q-ma-xs",class:e.badgeClasses(t,"header"),staticStyle:{width:"10px","max-width":"10px",height:"10px","max-height":"10px"},style:e.badgeStyles(t,"header")}):a("q-badge",{key:s,class:e.badgeClasses(t,"header"),staticStyle:{width:"100%",cursor:"pointer"},style:e.badgeStyles(t,"header")},[t.icon?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:t.icon}}):e._e(),a("span",{staticClass:"ellipsis"},[e._v(e._s(t.title))])],1)]}))],2)]}},{key:"day",fn:function(t){var s=t.timestamp;return[e._l(e.getEvents(s.date),(function(t,s){return[a("q-badge",{key:s,class:e.badgeClasses(t,"day"),staticStyle:{width:"100%",cursor:"pointer",height:"16px","max-height":"16px"},style:e.badgeStyles(t,"day"),on:{click:function(a){return e.onEventClick(t)}}},[t.icon?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:t.icon}}):e._e(),a("span",{staticClass:"ellipsis"},[e._v(e._s(t.title))])],1)]}))]}},{key:"day-body",fn:function(t){var s=t.timestamp,i=t.timeStartPos,n=t.timeDurationHeight;return[e._l(e.getEvents(s.date),(function(t,s){return[t.time?a("q-badge",{key:s,staticClass:"my-event justify-center ",class:e.badgeClasses(t,"body"),staticStyle:{cursor:"pointer"},style:e.badgeStyles(t,"body",i,n),on:{click:function(a){return e.onEventClick(t)}}},[t.icon?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:t.icon}}):e._e(),a("span",{staticClass:"ellipsis"},[e._v(e._s(t.title))])],1):e._e()]}))]}}]),model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),a("q-dialog",{model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[a("q-card",{staticStyle:{width:"80%"}},[a("q-toolbar",{staticClass:"q-mt-md row"},[a("q-avatar",[a("q-icon",{attrs:{name:"local_hospital",size:"lg"}})],1),a("q-toolbar-title",{staticClass:"text-weight-bold"},[e._v("Appointment reservation\n        ")]),e.selectedUrl?a("div",{staticClass:"row justify-center items-center"},[a("q-toolbar-title",[e._v(" Join room ")]),a("q-btn",{attrs:{icon:"videocam",color:"primary",size:"lg",fill:"",type:"a",round:"",target:"_blank",dense:""},on:{click:function(t){return e.onClickUrl(e.selectedUrl)}}})],1):e._e()],1),a("div",{staticClass:"row "},[a("q-card-section",{staticClass:"column"},[a("p",{staticClass:"q-ml-sm  q-ma-xs text-body1 text-weight-bold"},[e._v("\n            Service details:\n          ")]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Name: "),a("b",[e._v(e._s(e.selectedEvent.service.name))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Category: "),a("b",[e._v(e._s(e.selectedEvent.service.category))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Description: "),a("b",[e._v(e._s(e.selectedEvent.service.description))])])]),a("q-card-section",{staticClass:"q-ml-xl column"},[a("p",{staticClass:"q-ml-sm  q-ma-xs text-body1 text-weight-bold"},[e._v("\n            Reservation details:\n          ")]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Date: "),a("b",[e._v(e._s(e.selectedEvent.date))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Time: "),a("b",[e._v(e._s(e.selectedEvent.time))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Duration: "),a("b",[e._v(e._s(e.selectedEvent.duration)+" minutes")])])])],1),e.isHis?a("q-card-section",[a("q-input",{staticClass:"q-ml-sm",attrs:{filled:"",readonly:!e.isMedic,label:"Observations",autogrow:""},model:{value:e.selectedObservation,callback:function(t){e.selectedObservation=t},expression:"selectedObservation"}})],1):e._e(),e.isMedic&&e.isHis?e._e():a("q-card-section",{staticClass:" column"},[a("p",{staticClass:"q-ml-sm  q-ma-xs text-body1 text-weight-bold"},[e._v("\n          Medic details:\n        ")]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n          Name:\n          "),a("b",[e._v(e._s(e.selectedEvent.medic.firstName)+"\n            "+e._s(e.selectedEvent.medic.lastName))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n          Phone: "),a("b",[e._v(e._s(e.selectedEvent.medic.phone))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n          Email: "),a("b",[e._v(e._s(e.selectedEvent.medic.email))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n          City: "),a("b",[e._v(e._s(e.selectedEvent.medic.city))])]),a("q-input",{staticClass:"q-ml-xl q-ma-none",staticStyle:{width:"80%"},attrs:{outlined:"",dense:!0,readonly:""},model:{value:e.selectedEvent.medic.info,callback:function(t){e.$set(e.selectedEvent.medic,"info",t)},expression:"selectedEvent.medic.info"}})],1),e.isMedic&&e.isHis?a("q-card-section",{staticClass:" column"},[a("p",{staticClass:"q-ml-sm  q-ma-xs text-body1 text-weight-bold"},[e._v("\n          Patient details:\n        ")]),e.selectedPatientInfo?a("div",[a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Name:\n            "),a("b",[e._v(e._s(e.selectedPatientInfo.firstName)+"\n              "+e._s(e.selectedPatientInfo.lastName))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Phone: "),a("b",[e._v(e._s(e.selectedPatientInfo.phone))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Email: "),a("b",[e._v(e._s(e.selectedPatientInfo.email))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            City: "),a("b",[e._v(e._s(e.selectedPatientInfo.city))])]),a("p",{staticClass:"q-ml-xl q-ma-none"},[e._v("\n            Birth date: "),a("b",[e._v(e._s(e.selectedPatientInfo.birthDate))])]),a("q-input",{staticClass:"q-ml-xl q-ma-none",staticStyle:{width:"80%"},attrs:{outlined:"",dense:!0,readonly:""},model:{value:e.selectedPatientInfo.info,callback:function(t){e.$set(e.selectedPatientInfo,"info",t)},expression:"selectedPatientInfo.info"}})],1):a("p",{staticClass:"q-ml-xl  q-ma-xs"},[e._v("Not reserved yet")])]):e._e(),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),e.isMedic?e._e():a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{fill:"",label:"OPEN"!=e.selectedEvent.status&&e.isHis?"UNRESERVE":"RESERVE",disabled:"OPEN"!=e.selectedEvent.status&&!e.isHis,color:"OPEN"!=e.selectedEvent.status&&e.isHis?"red":"primary"},on:{click:function(t){return e.executeReserve()}}}),e.isMedic&&e.isHis?a("q-btn",{attrs:{fill:"",label:"Delete",color:"red"},on:{click:function(t){e.confirmDelete=!0}}}):e._e(),e.isMedic&&e.isHis?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{fill:"",label:"Update",color:"primary"},on:{click:function(t){return e.executeUpdate()}}}):e._e()],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.confirmDelete,callback:function(t){e.confirmDelete=t},expression:"confirmDelete"}},[a("q-card",[a("q-toolbar",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"warning",color:"warning","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[e._v("Deleting an appointment is an irreversible command. Be\n          cautious.")])],1),a("q-card-section",[e._v("Are you sure you want to delete the appointment of\n        "),a("b",[e._v(e._s(e.selectedEvent.service.name))]),e._v(" from "),a("br"),a("b",[e._v("Date: "+e._s(e.selectedEvent.date)+" at "+e._s(e.selectedEvent.time))]),e._v("?\n      ")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),a("q-btn",{attrs:{fill:"",label:"Confirm delete",color:"red"},on:{click:function(t){return e.executeDeleteAppointment()}}})],1)],1)],1),a("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("q-card",{staticStyle:{width:"100%"}},[a("q-toolbar",[a("q-toolbar-title",{staticClass:"text-weight-bold"},[e._v("Create an appointment\n        ")])],1),a("q-card-section",[a("q-select",{attrs:{flat:"",options:e.medicServices,label:"Service"},model:{value:e.newEvent.service,callback:function(t){e.$set(e.newEvent,"service",t)},expression:"newEvent.service"}})],1),a("q-card-section",[a("div",{staticClass:"q-gutter-md row justify-around"},[a("q-date",{attrs:{mask:"YYYY-MM-DDTHH:mm"},model:{value:e.newEvent.dateTime,callback:function(t){e.$set(e.newEvent,"dateTime",t)},expression:"newEvent.dateTime"}}),a("q-time",{attrs:{mask:"YYYY-MM-DDTHH:mm"},model:{value:e.newEvent.dateTime,callback:function(t){e.$set(e.newEvent,"dateTime",t)},expression:"newEvent.dateTime"}})],1)]),a("q-card-section",[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("p",[e._v("\n              Duration: "),a("b",[e._v(e._s(e.newEvent.duration)+" minutes")])])]),a("q-item-section",[a("q-slider",{attrs:{label:"",markers:"",step:10,min:10,max:120},model:{value:e.newEvent.duration,callback:function(t){e.$set(e.newEvent,"duration",t)},expression:"newEvent.duration"}})],1)],1)],1),a("q-card-section",[a("q-input",{attrs:{flat:"",type:"url",label:"URL"},model:{value:e.newEvent.url,callback:function(t){e.$set(e.newEvent,"url",t)},expression:"newEvent.url"}})],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"primary"}}),a("q-btn",{attrs:{fill:"",label:"Add",color:"primary"},on:{click:function(t){return e.executeAddEvent()}}})],1)],1)],1),e.isMedic?a("div",{staticClass:"q-mt-md row justify-around"},[a("q-badge",{staticClass:"q-pa-sm",attrs:{color:"blue"}},[e._v("\n      Other medics appointment with no reservation ")]),a("q-badge",{staticClass:"q-pa-sm",attrs:{color:"grey"}},[e._v("\n      Other medics appointment reserved already ")]),a("q-badge",{staticClass:"q-pa-sm",attrs:{color:"teal"}},[e._v("\n      My appointment without reservation yet ")]),a("q-badge",{staticClass:"q-pa-sm",attrs:{color:"green"}},[e._v("\n      My appointment with reservation\n    ")])],1):a("div",{staticClass:"q-mt-md row justify-around"},[a("q-badge",{staticClass:"q-pa-sm",attrs:{color:"blue"}},[e._v("\n      Appointments available to reserve ")]),a("q-badge",{staticClass:"q-pa-sm",attrs:{color:"grey"}},[e._v("\n      Other patients already reserved appointments ")]),a("q-badge",{staticClass:"q-pa-sm",attrs:{color:"green"}},[e._v("\n      My reserved appointments\n    ")])],1)],1)},P=[],D=(a("a481"),a("4917"),a("7514"),a("6d67"),a("20d6"),a("b06b")),M=a("fe7a");function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){if("string"!==typeof e)throw new TypeError("Expected a string");e=e.replace(/^#/,""),3===e.length?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:4===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((255&t)/2.55)}:{r:t>>16,g:t>>8&255,b:255&t}}function Q(e){if("string"!==typeof e&&(!e||void 0===e.r))throw new TypeError("Expected a string or a {r, g, b} object as color");var t="string"===typeof e?j(e):e,a=t.r/255,s=t.g/255,i=t.b/255,n=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),r=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4),o=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return.2126*n+.7152*r+.0722*o}var T={name:"Appointment",data:function(){return{confirmDelete:!1,onlyHis:!1,selectedMedics:[],selectedServices:[],selectedPatients:[],optionsServices:[],optionsMedics:[],optionsPatients:[],dialog:!1,newEvent:{duration:20,dateTime:"",url:"",service:{label:"",value:""}},selectedEvent:{id:3,duration:20,date:"2021-05-25",time:"10:10",medic:{id:1,firstName:"George",lastName:"Vasile",info:null,email:"george.vasile2@gmail.com",phone:"0722222222",city:"Bucharest"},service:{id:1,name:"ceva",category:"analiza",description:"altceva",createdAt:"2021-05-23T22:51:58.000Z",updatedAt:"2021-05-23T22:51:58.000Z"},status:"OPEN"},selectedObservation:"",selectedDate:"",confirm:!1,title:"",view:{value:"month",label:"MONTH"},viewOptions:[{value:"day",label:"DAY"},{value:"week",label:"WEEK"},{value:"month",label:"MONTH"}]}},beforeMount:function(){var e=this.$q.localStorage.getItem("user");e?(this.$store.dispatch("data/loadAppointments"),this.$store.dispatch("data/loadMedicServices"),this.$store.dispatch("data/loadServices"),"medic"==e.type?this.$store.dispatch("data/loadMedicAppointments"):this.$store.dispatch("data/loadPatientAppointments")):this.$router.push("/auth")},methods:{executeDeleteAppointment:function(){var e=this;this.$axios.put("/api/appointments/medic/".concat(this.selectedEvent.id),{cancel:!0}).then((function(t){e.$q.notify({color:"primary",message:t.data.message,icon:"arrow_forward"}),e.$store.dispatch("data/loadAppointments"),e.$store.dispatch("data/loadMedicServices"),e.$store.dispatch("data/loadMedicAppointments"),e.confirm=!1,e.confirmDelete=!1})).catch((function(t){switch(t.response.status){case 401:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message}),e.confirmDelete=!1}}))},executeUpdate:function(){var e=this;this.$axios.put("/api/appointments/medic/".concat(this.selectedEvent.id),{observation:this.selectedObservation}).then((function(t){e.$q.notify({color:"primary",message:t.data.message,icon:"arrow_forward"}),e.$store.dispatch("data/loadAppointments"),e.$store.dispatch("data/loadMedicServices"),e.$store.dispatch("data/loadMedicAppointments"),e.card=!1})).catch((function(t){switch(t.response.status){case 401:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}}))},filterServices:function(e,t){var a=this;t(""!==e?function(){var t=e.toLowerCase();a.optionsServices=a.services.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}:function(){a.optionsServices=a.services})},filterMedics:function(e,t){var a=this;t(""!==e?function(){var t=e.toLowerCase();a.optionsMedics=a.medics.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}:function(){a.optionsMedics=a.medics})},filterPatients:function(e,t){var a=this;t(""!==e?function(){var t=e.toLowerCase();a.optionsPatients=a.patients.filter((function(e){return e.label.toLowerCase().indexOf(t)>-1}))}:function(){a.optionsPatients=a.patients})},executeAddEvent:function(){var e=this;this.$axios.post("/api/appointments/medic",{url:this.newEvent.url,date:new Date(Date.parse(this.newEvent.dateTime)),duration:this.newEvent.duration,serviceId:this.newEvent.service.value}).then((function(t){e.$q.notify({color:"primary",message:t.data.message,icon:"arrow_forward"}),e.dialog=!1,e.$store.dispatch("data/loadAppointments"),e.$store.dispatch("data/loadMedicServices"),e.$store.dispatch("data/loadMedicAppointments")})).catch((function(t){switch(t.response.status){case 401:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}}))},onEventClick:function(e){this.dialog||(this.selectedEvent=A({},e),this.confirm=!0)},executeReserve:function(){var e=this;this.$axios.put("/api/appointments/".concat(this.selectedEvent.id)).then((function(t){e.$q.notify({color:"primary",message:t.data.message,icon:"arrow_forward"}),e.$store.dispatch("data/loadAppointments"),e.$store.dispatch("data/loadPatientAppointments")})).catch((function(t){switch(t.response.status){case 401:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}e.$store.dispatch("data/loadAppointments")}))},onClickTime:function(e){this.confirm||(this.dialog=!0,this.newEvent.dateTime="".concat(e.scope.timestamp.date,"T").concat(e.scope.timestamp.time?e.scope.timestamp.time:"08:00"))},calendarNext:function(){this.$refs.calendar.next()},calendarPrev:function(){this.$refs.calendar.prev()},isCssColor:function(e){return!!e&&!!e.match(/^(#|(rgb|hsl)a?\()/)},badgeClasses:function(e,t){var a,s=this.isCssColor(e.bgcolor),i="header"===t;return a={},c()(a,"text-white bg-".concat(e.bgcolor),!s),c()(a,"full-width",!i&&(!e.side||"full"===e.side)),c()(a,"left-side",!i&&"left"===e.side),c()(a,"right-side",!i&&"right"===e.side),a},badgeStyles:function(e,t,a,s){var i={};return this.isCssColor(e.bgcolor)&&(i["background-color"]=e.bgcolor,i.color=Q(e.bgcolor)>.5?"black":"white"),a&&(i.top=a(e.time)+"px"),s&&(i.height=s(e.duration)+"px"),i["align-items"]="flex-start",i},getEvents:function(e){for(var t=M["a"].parseTimestamp(e),a=[],s=0;s<this.events.length;++s){var i=!1;if(this.events[s].date===e){if(this.events[s].time&&a.length>0)for(var n=M["a"].parseTimestamp(this.events[s].date+" "+this.events[s].time),r=M["a"].addToDate(n,{minute:this.events[s].duration}),o=0;o<a.length;++o)if(a[o].time){var c=M["a"].parseTimestamp(a[o].date+" "+a[o].time),l=M["a"].addToDate(c,{minute:a[o].duration});if(M["a"].isBetweenDates(n,c,l)||M["a"].isBetweenDates(r,c,l)){a[o].side="left",this.events[s].side="right",a.push(this.events[s]),i=!0;break}}i||(this.events[s].side=void 0,a.push(this.events[s]))}else if(this.events[s].days){var d=M["a"].parseTimestamp(this.events[s].date),u=M["a"].addToDate(d,{day:this.events[s].days});M["a"].isBetweenDates(t,d,u)&&(a.push(this.events[s]),i=!0)}}return a},isHisById:function(e){return"medic"==this.$q.localStorage.getItem("user").type?!!this.medicEvents.find((function(t){return t.id==e})):!!this.patientEvents.find((function(t){return t.id==e}))},onClickUrl:function(e){Object(D["a"])(e)}},computed:{isHis:function(){var e=this;return"medic"==this.$q.localStorage.getItem("user").type?!!this.medicEvents.find((function(t){return t.id==e.selectedEvent.id})):!!this.patientEvents.find((function(t){return t.id==e.selectedEvent.id}))},isMedic:function(){return!!this.$q.localStorage.getItem("user")&&"medic"==this.$q.localStorage.getItem("user").type},eventsMap:function(){var e={};return this.events.forEach((function(t){return(e[t.date]=e[t.date]||[]).push(t)})),e},medicEvents:function(){return this.$store.getters["data/getMedicAppointments"]},patientEvents:function(){return this.$store.getters["data/getPatientAppointments"]},selectedPatientInfo:function(){var e=this,t=this.medicEvents.find((function(t){return t.id==e.selectedEvent.id}));return this.selectedObservation=t.observation,t?t.patient:{}},selectedUrl:function(){var e=this;if(this.isHis){var t=this.isMedic?this.medicEvents.find((function(t){return t.id==e.selectedEvent.id})):this.patientEvents.find((function(t){return t.id==e.selectedEvent.id}));return t&&!this.isMedic&&(this.selectedObservation=t.observation),t?t.url:""}return""},events:function(){var e=this;return this.$store.getters["data/getAppointments"].filter((function(t){return 0==e.selectedMedics.length||e.selectedMedics.find((function(e){return e.value==t.medic.id}))})).filter((function(t){if(0==e.selectedPatients.length)return!0;var a=e.medicEvents.find((function(e){return e.id==t.id}));return!(!a||!a.patient)&&e.selectedPatients.find((function(e){return e.value==a.patient.id}))})).filter((function(t){return 0==e.selectedServices.length||e.selectedServices.find((function(e){return e.value==t.service.id}))})).filter((function(t){return!e.onlyHis||e.isHisById(t.id)})).map((function(t){var a=null,s="medic"==e.$q.localStorage.getItem("user").type?!!e.medicEvents.find((function(e){return e.id==t.id})):!!e.patientEvents.find((function(e){return e.id==t.id}));return t&&("OPEN"==t.status||s?"OPEN"!=t.status&&s?a="#006400":"OPEN"!=t.status||s?"OPEN"==t.status&&s&&(a="#009688"):a="#027be3":a="#696969"),A(A({},t),{},{title:"".concat(t.service.name," - ").concat(t.medic.firstName," ").concat(t.medic.lastName),bgcolor:a})}))},medicServices:function(){var e=this.$q.localStorage.getItem("user"),t=this.$store.getters["data/getMedicServices"].find((function(t){return t.id==e.id}));return t?t.services.map((function(e){return{value:e.id,label:e.name}})):[]},services:function(){return this.$store.getters["data/getServices"].map((function(e){return{label:"".concat(e.name),value:e.id}}))},medics:function(){return this.$store.getters["data/getMedicServices"].map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e.id}}))},patients:function(){return this.$store.getters["data/getMedicAppointments"].map((function(e){return e.patient})).filter((function(e){return!!e})).filter((function(e,t,a){return a.findIndex((function(t){return t.id===e.id}))===t})).map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e.id}}))}}},I=T,H=(a("1a9b"),a("ddd8")),B=a("eb85"),U=a("8f8e"),L=a("58a8"),z=a("4b7e"),R=a("52ee"),Y=a("ca78"),V=a("66e5"),Z=a("4074"),G=a("c1d0"),J=a("7f67"),W=Object(m["a"])(I,O,P,!1,null,null,null),F=W.exports;k()(W,"components",{QSelect:H["a"],QSeparator:B["a"],QCheckbox:U["a"],QBtn:g["a"],QBadge:L["a"],QIcon:b["a"],QDialog:q["a"],QCard:y["a"],QToolbar:_["a"],QAvatar:w["a"],QToolbarTitle:x["a"],QCardSection:C["a"],QInput:f["a"],QCardActions:z["a"],QDate:R["a"],QTime:Y["a"],QItem:V["a"],QItemSection:Z["a"],QSlider:G["a"]}),k()(W,"directives",{ClosePopup:J["a"]});var K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-header",{attrs:{elevated:""}},[a("q-toolbar",[a("q-toolbar-title",[e._v("Medical Center")]),a("q-btn",{staticStyle:{"margin-right":"50px"},attrs:{color:"white","text-color":"primary",label:"Profile"},on:{click:function(t){e.userEdit=!1,e.profile=!0}}}),a("q-btn",{attrs:{color:"white","text-color":"black",label:"Log out"},on:{click:e.onLogout}})],1)],1),a("q-dialog",{staticStyle:{width:"60%"},model:{value:e.profile,callback:function(t){e.profile=t},expression:"profile"}},[a("q-card",{staticClass:"my-card full-width"},[a("q-card-section",{staticClass:"row text-h5 ellipsis"},[a("div",{staticClass:"col-3 text-grey text-uppercase text-bold",staticStyle:{width:"83%"}},[e._v("\n          "+e._s(e.user.type)+"\n        ")]),a("div",{staticClass:"col-2",attrs:{align:"right"}},[e.userEdit?a("q-btn",{attrs:{color:"primary",round:"",outline:"",icon:"clear"},on:{click:function(t){e.userEdit=!1,e.isPassword=!1}}}):a("q-btn",{attrs:{color:"primary",round:"",outline:"",icon:"create"},on:{click:function(t){e.userEdit=!0,e.isPassword=!1}}})],1)]),a("q-card-section",[a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("First name:")]),e.userEdit?a("q-input",{staticClass:"col-9",attrs:{type:"text",outlined:"",dense:"",label:"First name"},model:{value:e.user.firstName,callback:function(t){e.$set(e.user,"firstName",t)},expression:"user.firstName"}}):a("div",{staticClass:"col-9 text-dark"},[e._v("\n            "+e._s(e.user.firstName)+"\n          ")])],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Last name:")]),e.userEdit?a("q-input",{staticClass:"col-9",attrs:{type:"text",outlined:"",dense:"",label:"Last name"},model:{value:e.user.lastName,callback:function(t){e.$set(e.user,"lastName",t)},expression:"user.lastName"}}):a("div",{staticClass:"col-9 text-dark"},[e._v("\n            "+e._s(e.user.lastName)+"\n          ")])],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Email:")]),e.userEdit?a("q-input",{staticClass:"col-9",attrs:{type:"text",outlined:"",dense:"",label:"Email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}):a("div",{staticClass:"col-9 text-dark"},[e._v(e._s(e.user.email))])],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Phone:")]),e.userEdit?a("q-input",{staticClass:"col-9",attrs:{type:"text",outlined:"",mask:"0### ### ###",dense:"",label:"Phone"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}):a("div",{staticClass:"col-9 text-dark"},[e._v(e._s(e.user.phone))])],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("City:")]),e.userEdit?a("q-input",{staticClass:"col-9",attrs:{type:"text",outlined:"",dense:"",label:"City"},model:{value:e.user.city,callback:function(t){e.$set(e.user,"city",t)},expression:"user.city"}}):a("div",{staticClass:"col-9 text-dark"},[e._v(e._s(e.user.city))])],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Birth date:")]),e.userEdit?a("q-input",{staticClass:"col-9",attrs:{type:"text",mask:"date",outlined:"",dense:"",rules:["date"],label:"Birth date"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{model:{value:e.user.birthDate,callback:function(t){e.$set(e.user,"birthDate",t)},expression:"user.birthDate"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.user.birthDate,callback:function(t){e.$set(e.user,"birthDate",t)},expression:"user.birthDate"}}):a("div",{staticClass:"col-9 text-dark"},[e._v("\n            "+e._s(e.user.birthDate)+"\n          ")])],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Info:")]),e.userEdit?a("q-input",{staticClass:"col-9",attrs:{type:"text",outlined:"",dense:"",autogrow:"",label:"Info"},model:{value:e.user.info,callback:function(t){e.$set(e.user,"info",t)},expression:"user.info"}}):a("div",{staticClass:"col-9 text-dark"},[e._v(e._s(e.user.info))])],1),e.isPassword?a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Password:")]),a("q-input",{staticClass:"col-9",attrs:{outlined:"",label:"Password",dense:"",type:e.isPwd?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}],null,!1,3635466494),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):e._e()]),a("q-card-section",[e.userEdit?a("q-card-actions",{attrs:{align:"around"}},[e.isPassword?a("q-btn",{attrs:{icon:"clear",outline:"",color:"primary"},on:{click:function(t){e.isPassword=!1}}},[e._v("Password")]):a("q-btn",{attrs:{outline:"",color:"primary"},on:{click:function(t){e.isPassword=!0}}},[e._v("Change password")]),a("q-btn",{attrs:{icon:"save",outline:"",color:"primary"},on:{click:e.executeSaveUser}},[e._v("Save changes")])],1):a("q-card-actions",{attrs:{align:"around"}},[a("q-btn",{attrs:{outline:"",color:"negative"},on:{click:function(t){return e.deleteAccount()}}},[e._v("Delete account")])],1)],1)],1)],1)],1)},X=[];function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae={name:"Navbar",data:function(){return{isPassword:!1,isPwd:!0,password:"",profile:!1,user:{},userEdit:!1,state:"VIEW"}},beforeMount:function(){this.user=this.$q.localStorage.getItem("user"),this.user||this.$router.push("/auth")},methods:{deleteAccount:function(){var e=this;this.$q.dialog({title:"Confirmation",message:"Are you sure you want to delete your account?",cancel:!0,persistent:!0}).onOk((function(){e.$axios.delete("/api/user").then((function(t){e.$q.notify({color:"primary",message:t.data.message,icon:"arrow_forward"}),e.$q.localStorage.set("user",!1),e.$router.push("/auth")})).catch((function(t){switch(t.response.status){case 400:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}}))}))},executeSaveUser:function(){var e=this;this.$axios.put("/api/user",te(te({},this.user),{},{password:this.password,changePassword:this.isPassword})).then((function(t){e.$q.notify({color:"primary",message:t.data.message,icon:"arrow_forward"}),e.$q.localStorage.set("user",t.data.user),e.user=t.data.user,e.userEdit=!1,e.isPassword=!1})).catch((function(t){switch(t.response.status){case 400:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}}))},onLogout:function(){var e=this;this.$axios.get("/api/logout").then((function(t){e.$q.notify({color:"primary",message:t.data.message}),e.$q.localStorage.set("user",!1),e.$router.push("/auth")})).catch((function(t){e.$q.notify({color:"negative",message:t.response.data.message})}))}}},se=ae,ie=a("e359"),ne=a("7cbe"),re=Object(m["a"])(se,K,X,!1,null,null,null),oe=re.exports;k()(re,"components",{QHeader:ie["a"],QToolbar:_["a"],QToolbarTitle:x["a"],QBtn:g["a"],QDialog:q["a"],QCard:y["a"],QCardSection:C["a"],QInput:f["a"],QIcon:b["a"],QPopupProxy:ne["a"],QDate:R["a"],QCardActions:z["a"]}),k()(re,"directives",{ClosePopup:J["a"]});var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-table",{staticStyle:{margin:"50px"},attrs:{title:"Available services",data:e.services,filter:e.filter,columns:e.columns,"row-key":"name"},scopedSlots:e._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body-cell-actions",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{staticClass:"button",staticStyle:{"margin-right":"20px"},attrs:{outline:"",round:"",color:"primary",icon:"create"},on:{click:function(a){return e.editService(t.row)}}}),a("q-btn",{staticClass:"button",attrs:{outline:"",round:"",color:"negative",icon:"delete"},on:{click:function(a){return e.removeService(t.row)}}})],1)]}},{key:"body-cell-offer",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"text-pre-wrap"},[a("q-toggle",{attrs:{"checked-icon":"check","unchecked-icon":"clear"},on:{input:function(a){return e.updateOffer(t.row.id)}},model:{value:t.row.offer,callback:function(a){e.$set(t.row,"offer",a)},expression:"props.row.offer"}})],1)])]}},{key:"top-left",fn:function(){return[a("q-btn",{attrs:{color:"primary",label:"ADD",outline:""},on:{click:e.addService}}),a("q-space")]},proxy:!0}])}),a("q-dialog",{staticStyle:{width:"60%"},model:{value:e.card,callback:function(t){e.card=t},expression:"card"}},[a("q-card",{staticClass:"my-card full-width"},[a("q-card-section",{staticClass:"row text-h5 ellipsis"},["ADD"===e.state?a("div",{staticClass:"col-3 text-grey"},[e._v("\n          Add service\n        ")]):a("div",{staticClass:"col-3 text-grey"},[e._v("Edit service")])]),a("q-card-section",[a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Name:")]),a("q-select",{attrs:{outlined:"",options:e.servicesOptions,dense:"",label:"Name"},model:{value:e.selectedService.name,callback:function(t){e.$set(e.selectedService,"name",t)},expression:"selectedService.name"}})],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Description:")]),a("q-select",{attrs:{outlined:"",options:e.descriptionOptions,dense:"",label:"Description"},model:{value:e.selectedService.description,callback:function(t){e.$set(e.selectedService,"description",t)},expression:"selectedService.description"}})],1),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-3 text-grey"},[e._v("Category:")]),a("q-select",{attrs:{outlined:"",options:e.categoryOptions,dense:"",label:"Category"},model:{value:e.selectedService.category,callback:function(t){e.$set(e.selectedService,"category",t)},expression:"selectedService.category"}})],1)]),a("q-card-section",[a("q-card-actions",{attrs:{align:"around"}},["ADD"===e.state?a("q-btn",{attrs:{icon:"add",outline:"",color:"primary"},on:{click:e.executeAddService}},[e._v("Add")]):a("q-btn",{attrs:{icon:"create",outline:"",color:"primary"},on:{click:e.executeSaveService}},[e._v("Edit")])],1)],1)],1)],1)],1)},le=[];function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe={name:"Service",data:function(){var e=this;return{state:"VIEW",tab:"services",filter:"",card:!1,editMedicService:"",selectedService:{},categoryOptions:["consultație fizica","consultație online","recoltare analize","interpretare analize"],servicesOptions:["Cardiologie","Dermatologie","Endocrinologie","Gastroenterologie","Medicina de familie","Nefrologie","Ofltalmologie","Orl","Ortopedie","Psihologie"],descriptionOptions:["Pentru toate persoanele","Pentru adulti","Pentru copii"],columns:[{name:"name",required:!0,label:"Name",align:"left",field:function(e){return e.name},format:function(e){return"".concat(e)},sortable:!0},{name:"description",required:!0,label:"Description",align:"left",field:function(e){return e.description},format:function(e){return"".concat(e)},sortable:!0},{name:"category",required:!0,label:"Category",align:"left",field:function(e){return e.category},format:function(e){return"".concat(e)},sortable:!0},{name:"offer",required:!0,label:"Offering this service?",align:"left",field:function(t){return e.medicServices.find((function(e){return e.id==t.id}))},format:function(e){return"".concat(e?"YES":"NO")},sortable:!0},{name:"actions",label:"Action"}]}},beforeMount:function(){var e=this.$q.localStorage.getItem("user");e?(this.$store.dispatch("data/loadServices"),this.$store.dispatch("data/loadMedicServices")):this.$router.push("/auth")},methods:{addService:function(){this.state="ADD",this.card=!0,this.selectedService={name:"",description:"",category:""}},editService:function(e){this.state="EDIT",this.card=!0,this.selectedService=ue({},e)},removeService:function(e){var t=this;this.$q.dialog({title:"Confirmation",message:"Do you want to delete ".concat(e.name,"?"),cancel:!0,persistent:!0}).onOk((function(){t.$axios.delete("/api/services/".concat(e.id)).then((function(e){t.$q.notify({color:"primary",message:e.data.message,icon:"arrow_forward"}),t.$store.dispatch("data/loadServices"),t.$store.dispatch("data/loadAllExperiences")})).catch((function(e){switch(e.response.status){case 400:e.response.data.errors.forEach((function(e){t.$q.notify({color:"negative",message:e})}));break;default:t.$q.notify({color:"negative",message:e.response.data.message})}}))}))},executeSaveService:function(){var e=this;this.$axios.put("/api/services/".concat(this.selectedService.id),ue({},this.selectedService)).then((function(t){e.$q.notify({color:"primary",message:t.data.message,icon:"arrow_forward"}),e.$store.dispatch("data/loadServices"),e.$store.dispatch("data/loadMedicServices"),e.card=!1})).catch((function(t){switch(t.response.status){case 400:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}}))},executeAddService:function(){var e=this;this.$axios.post("/api/services",ue({},this.selectedService)).then((function(t){e.$q.notify({color:"primary",message:t.data.message,icon:"arrow_forward"}),e.$store.dispatch("data/loadServices"),e.$store.dispatch("data/loadMedicServices"),e.card=!1})).catch((function(t){switch(t.response.status){case 400:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}}))},updateOffer:function(e){var t=this;this.$axios.put("/api/services/medic",{serviceId:e}).then((function(e){t.$store.dispatch("data/loadMedicServices"),t.$q.notify({color:"primary",message:e.data.message,icon:"arrow_forward"})})).catch((function(e){switch(e.response.status){case 400:e.response.data.errors.forEach((function(e){t.$q.notify({color:"negative",message:e})}));break;default:t.$q.notify({color:"negative",message:e.response.data.message})}}))},hasOffer:function(e){return!!this.medicServices.find((function(t){return t.id==e}))}},computed:{services:function(){var e=this;return this.$store.getters["data/getServices"].map((function(t){return ue(ue({},t),{},{offer:e.hasOffer(t.id)})}))},medicServices:function(){var e=this.$q.localStorage.getItem("user"),t=this.$store.getters["data/getMedicServices"].find((function(t){return t.id==e.id}));return t?t.services:[]}}},me=pe,ve=a("9564"),fe=a("2c91"),be=Object(m["a"])(me,ce,le,!1,null,null,null),he=be.exports;k()(be,"components",{QTable:v["a"],QInput:f["a"],QIcon:b["a"],QTd:h["a"],QBtn:g["a"],QToggle:ve["a"],QSpace:fe["a"],QDialog:q["a"],QCard:y["a"],QCardSection:C["a"],QSelect:H["a"],QCardActions:z["a"]});var ge={components:{Service:he,Navbar:oe,Appointment:F,Admin:$},name:"MainPage",data:function(){return{tab:"appointments"}},methods:{},computed:{isMedic:function(){return!!this.$q.localStorage.getItem("user")&&"medic"==this.$q.localStorage.getItem("user").type},isAdmin:function(){return!!this.$q.localStorage.getItem("user")&&"admin"==this.$q.localStorage.getItem("user").type}}},qe=ge,ye=a("9989"),_e=a("429b"),we=a("7460"),xe=a("adad"),Ce=a("823b"),Ee=Object(m["a"])(qe,s,i,!1,null,null,null);t["default"]=Ee.exports;k()(Ee,"components",{QPage:ye["a"],QTabs:_e["a"],QTab:we["a"],QTabPanels:xe["a"],QTabPanel:Ce["a"]})},baea:function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".calendar-container{position:relative}.medic .q-calendar-daily__day-interval:hover{background-color:#f5f5f5}.medic .q-calendar-daily__day-interval{cursor:pointer}.medic .q-calendar-weekly__day:hover{background-color:#f5f5f5}.medic .q-calendar-weekly__day{cursor:pointer}.my-event{width:100%;position:absolute;font-size:12px}.full-width{left:0;width:100%}.left-side{left:0;width:49.75%}.right-side{left:50.25%;width:49.75%}@media (min-width:600px){.q-dialog__inner--minimized>div{max-width:700px}}.bg-grey{background:#696969!important}.bg-green{background:#006400!important}.bg-blue{background:#027be3!important}.bg-teal{background:#009688!important}",""]),e.exports=t}}]);