(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"1e0a":function(e,t,s){var i=s("ebd0");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=s("499e").default;a("461db18f",i,!0,{sourceMap:!1})},"21f3":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"flex flex-center column"},[s("auth")],1)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isRegister?i("q-card",{staticClass:"container"},[i("q-card-section",{staticClass:"row items-center"},[i("div",{staticClass:"text-h6"},[e._v("Register")]),i("q-space"),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),i("div",{staticClass:"q-pa-md"},[i("q-card-section",{staticClass:"q-gutter-md"},[i("q-input",{attrs:{filled:"",label:"First Name"},model:{value:e.register.firstName,callback:function(t){e.$set(e.register,"firstName",t)},expression:"register.firstName"}}),i("q-input",{attrs:{filled:"",label:"Last Name"},model:{value:e.register.lastName,callback:function(t){e.$set(e.register,"lastName",t)},expression:"register.lastName"}}),i("q-input",{attrs:{filled:"",mask:"0### ### ###",label:"Phone"},model:{value:e.register.phone,callback:function(t){e.$set(e.register,"phone",t)},expression:"register.phone"}}),i("q-input",{attrs:{filled:"",label:"Email"},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}}),i("q-input",{attrs:{filled:"",label:"Password",type:e.isPwd?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}}),i("q-input",{attrs:{filled:"",label:"City"},model:{value:e.register.city,callback:function(t){e.$set(e.register,"city",t)},expression:"register.city"}}),i("q-input",{attrs:{filled:"",mask:"date",label:"Birth date",rules:["date"]},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[i("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[i("q-date",{model:{value:e.register.birthDate,callback:function(t){e.$set(e.register,"birthDate",t)},expression:"register.birthDate"}},[i("div",{staticClass:"row items-center justify-end"},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.register.birthDate,callback:function(t){e.$set(e.register,"birthDate",t)},expression:"register.birthDate"}}),i("q-input",{attrs:{filled:"",autogrow:"",label:"Info"},model:{value:e.register.info,callback:function(t){e.$set(e.register,"info",t)},expression:"register.info"}}),i("q-select",{staticClass:"text-capitalize",attrs:{filled:"",options:e.options,label:"Type"},model:{value:e.register.type,callback:function(t){e.$set(e.register,"type",t)},expression:"register.type"}})],1)],1),i("q-card-actions",{staticClass:"bg-white text-primary flex flex-center"},[i("q-btn",{attrs:{color:"primary",label:"REGISTER"},on:{click:e.onRegister}}),i("q-btn",{attrs:{label:"BACK"},on:{click:function(t){e.isRegister=!1}}})],1)],1):i("q-card",{staticClass:"container login"},[i("q-img",{attrs:{ratio:16/9,src:s("7e77")}}),i("q-card-section",{staticClass:"row items-center"},[i("div",{staticClass:"text-h6"},[e._v("Login")])]),i("div",{staticClass:"q-pa-md"},[i("q-card-section",{staticClass:"q-gutter-md"},[i("q-input",{attrs:{filled:"",label:"Email"},model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}}),i("q-input",{attrs:{filled:"",label:"Password",type:e.isPwd2?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd2?"visibility_off":"visibility"},on:{click:function(t){e.isPwd2=!e.isPwd2}}})]},proxy:!0}],null,!1,869177772),model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1)],1),i("q-card-actions",{staticClass:"bg-white text-primary flex flex-center"},[i("q-btn",{attrs:{color:"primary",label:"LOGIN"},on:{click:e.onLogin}}),i("q-btn",{attrs:{label:"REGISTER"},on:{click:function(t){e.isRegister=!0}}})],1)],1)},n=[],o={name:"Auth",data:function(){return{options:["patient","medic"],isPwd:!0,isPwd2:!0,firstName:"",lastName:"",accessCode:"",email:"",login:{email:"",password:""},register:{firstName:"",lastName:"",email:"",password:"",birthDate:"",city:"",info:"",phone:"",type:""},isRegister:!1}},beforeMount:function(){this.$q.localStorage.getItem("user")&&this.$router.push("/")},methods:{onLogin:function(){var e=this;this.$axios.post("/api/login",{email:this.login.email,password:this.login.password}).then((function(t){e.$q.notify({color:"primary",message:"login successful"}),e.$q.localStorage.set("user",t.data),e.$router.push("/")})).catch((function(t){e.$q.notify({color:"negative",message:t.response.data.message})}))},onRegister:function(){var e=this;this.$axios.post("/api/register",this.register).then((function(t){e.$q.notify({color:"primary",message:t.data.message}),e.isRegister=!1})).catch((function(t){switch(t.response.status){case 400:t.response.data.errors.forEach((function(t){e.$q.notify({color:"negative",message:t})}));break;default:e.$q.notify({color:"negative",message:t.response.data.message})}}))}}},l=o,c=(s("29c9"),s("2877")),p=s("f09f"),u=s("068f"),d=s("a370"),f=s("27f9"),g=s("0016"),m=s("4b7e"),b=s("9c40"),h=s("2c91"),q=s("7cbe"),w=s("52ee"),v=s("ddd8"),x=s("7f67"),y=s("eebe"),k=s.n(y),C=Object(c["a"])(l,r,n,!1,null,null,null),$=C.exports;k()(C,"components",{QCard:p["a"],QImg:u["a"],QCardSection:d["a"],QInput:f["a"],QIcon:g["a"],QCardActions:m["a"],QBtn:b["a"],QSpace:h["a"],QPopupProxy:q["a"],QDate:w["a"],QSelect:v["a"]}),k()(C,"directives",{ClosePopup:x["a"]});var P={name:"AuthPage",components:{Auth:$}},N=P,Q=s("9989"),R=Object(c["a"])(N,i,a,!1,null,null,null);t["default"]=R.exports;k()(R,"components",{QPage:Q["a"]})},"29c9":function(e,t,s){"use strict";var i=s("1e0a"),a=s.n(i);a.a},"7e77":function(e,t,s){e.exports=s.p+"img/img.c5fa4cb2.png"},ebd0:function(e,t,s){var i=s("24fb");t=i(!1),t.push([e.i,".container{width:500px}.enter.q-btn{width:100%;margin-top:20px}.q-input{width:100%}",""]),e.exports=t}}]);